#!/usr/bin/env ruby

require 'pathname'

root = Pathname.new(__FILE__).realpath.parent.parent
$:.unshift root.join('lib') if $0 == __FILE__

require 'oddb2xml'

# TODO: Parse option
args = ARGV.dup
opts = {}
if args == ['-c', 'tar.gz']
  opts = {:compress => 'tar.gz'}
  args = {}
end

ui = Oddb2xml::Cli.new(opts)
unless args.empty?
  ui.help
else
  begin
    ui.run
  rescue Interrupt
    puts
    exit
  end
end
